@charset "UTF-8";
/* =============================================================================
  styles.css — Horarios Grupales · Musicala (LIGHT) — Split Build (PRO+++++)
  -----------------------------------------------------------------------------
  Este archivo queda como "entrada":
  - Importa: layout.css + components.css + views.css
  - Mantiene: TOKENS (vars), RESET/BASE, helpers globales, overrides cross-file
============================================================================= */

/* =========================
  SPLIT IMPORTS
  (orden sugerido: layout -> components -> views)
========================= */
@import url("./layout.css");
@import url("./components.css");
@import url("./views.css");

/* =========================
  TOKENS
========================= */
:root{
  /* Marca */
  --mozart:#0C41C4;
  --bach:#220A63;
  --beethoven:#680DBF;
  --vivaldi:#5729FF;
  --brahms:#CE0071;

  /* Extra areas */
  --arts-accent: rgba(245,158,11,.95);
  --stim-accent: #10B981;

  /* UI Light */
  --bg:#f7f8fc;
  --bg-2:#f1f4fb;
  --panel:#ffffff;
  --panel2:#fbfcff;

  --ink:#111827;
  --muted:#6b7280;
  --muted-2:#94a3b8;

  --line:rgba(17,24,39,.10);
  --line-2:rgba(17,24,39,.14);
  --line-3:rgba(17,24,39,.075);

  --shadow: 0 10px 30px rgba(17,24,39,.08);
  --shadow-2: 0 12px 45px rgba(17,24,39,.12);

  --r-xl: 22px;
  --r-lg: 18px;
  --r-md: 14px;
  --r-sm: 12px;

  --tap: 44px;
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";

  /* Grid sizing */
  --rooms: 10;                 /* fallback si JS no setea */
  --time-col: 56px;            /* columna hora compacta */
  --room-min: 64px;            /* mínimo salón */
  --room-max: 140px;           /* cap normal (anti-agigantado) */
  --row-h: 58px;               /* base */

  /* Fullscreen sizing (legible) */
  --time-col-fs: 50px;
  --room-min-fs: 78px;
  --room-max-fs: 200px;
  --row-h-fs: 82px;

  /* Stack spacing */
  --slot-pad: 6px;
  --slot-gap: 8px;

  /* Focus + motion */
  --focus-ring: 0 0 0 4px rgba(12,65,196,.18);
  --ease: cubic-bezier(.2,.8,.2,1);

  /* Sticky */
  --sticky-bg: rgba(255,255,255,.92);
  --sticky-blur: blur(10px);

  /* Topbar */
  --topbar-h: 70px;

  /* Layering */
  --z-topbar: 50;
  --z-sticky: 60;
  --z-modal: 90;
  --z-toast: 120;

  /* Safe area (iOS) */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);

  /* Misc polish */
  --glass: rgba(255,255,255,.86);
  --glass-2: rgba(255,255,255,.92);
  --hover-wash: rgba(12,65,196,.050);

  /* Viewport helpers */
  --vh: 100vh;
  --svh: 100svh;
  --dvh: 100dvh;

  /* Typography clamps */
  --fs-11: clamp(10.8px, 0.75vw, 11.4px);
  --fs-12: clamp(11.4px, 0.8vw, 12.4px);
  --fs-13: clamp(12.2px, 0.9vw, 13.2px);
  --fs-14: clamp(13px, 1.0vw, 14px);
  --fs-15: clamp(14px, 1.05vw, 15px);

  /* Smooth micro-animations */
  --t-fast: 120ms;
  --t-med: 180ms;
  --t-slow: 320ms;

  /* Tiny shine */
  --shine: linear-gradient(135deg, rgba(255,255,255,.85), rgba(255,255,255,.35));

  /* Stats extras */
  --stats-grad:
    radial-gradient(900px 170px at 10% 0%, rgba(12,65,196,.10), transparent 60%),
    radial-gradient(900px 170px at 90% 8%, rgba(206,0,113,.08), transparent 62%);
  --stats-card-grad: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.90));
  --chip-bg: rgba(255,255,255,.88);
  --chip-border: rgba(17,24,39,.10);

  /* Analytics pro (nuevo render) */
  --ana-card-bg: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.82));
  --ana-shadow: 0 10px 28px rgba(17,24,39,.06);
  --ana-border: rgba(17,24,39,.10);
  --ana-good: rgba(16,185,129,.14);
  --ana-warn: rgba(245,158,11,.16);
  --ana-danger: rgba(239,68,68,.14);
}

/* =========================
  RESET / BASE
========================= */
html{ -webkit-text-size-adjust:100%; }
html,body{ height:100%; }
*{ box-sizing:border-box; }

img{ max-width:100%; display:block; }
button, input, select, textarea{ font: inherit; }
a{ color: inherit; text-decoration:none; }
:where(button,a,input,select,textarea){ -webkit-tap-highlight-color: transparent; }

body{
  margin:0;
  font-family: var(--font);
  color: var(--ink);
  background:
    radial-gradient(900px 280px at 10% 0%, rgba(12,65,196,.10), transparent 60%),
    radial-gradient(900px 320px at 85% 10%, rgba(206,0,113,.08), transparent 62%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
  color-scheme: light;
  overflow-x: hidden;
}

::selection{ background: rgba(12,65,196,.18); }
:focus{ outline:none; }

/* Foco PRO */
:where(button, a, input, select, textarea, [tabindex]):focus-visible{
  box-shadow: var(--focus-ring);
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
}

/* =========================
  HELPERS (globales)
========================= */
.hidden{ display:none !important; }
.sr-only{
  position:absolute !important;
  width:1px !important; height:1px !important;
  padding:0 !important; margin:-1px !important;
  overflow:hidden !important; clip:rect(0,0,0,0) !important;
  white-space:nowrap !important; border:0 !important;
}
::placeholder{ color: rgba(107,114,128,.72); font-weight: 700; }
hr{ border:0; border-top:1px solid rgba(17,24,39,.10); }

/* =========================
  GLOBAL OVERRIDES (cross-file)
  - cosas que afectan a todos los módulos
========================= */

/* Asegurar “full-width real” incluso si algún módulo mete max-width por accidente */
.container, .shell{ max-width:none !important; }

/* FIX REAL: texto completo en modo normal (no fullscreen) */
@media (max-width: 1400px){
  body:not(.fullscreen-board) .sg{ grid-auto-rows: 74px !important; }
  body:not(.fullscreen-board) .sg-cell-slot{ padding: 9px; gap: 10px; }
  body:not(.fullscreen-board) .sg-block{ padding: 8px 9px 7px; }
}
@media (max-width: 1200px){
  body:not(.fullscreen-board) .sg{ grid-auto-rows: 86px !important; }
}

/* FULLSCREEN BOARD: variables globales (los detalles están en views.css/layout.css) */
body.fullscreen-board{
  overflow: hidden !important;

  --time-col: var(--time-col-fs);
  --room-min: var(--room-min-fs);
  --room-max: var(--room-max-fs);
  --row-h: var(--row-h-fs);

  --slot-pad: 10px;
  --slot-gap: 12px;
}

/* PRINT: una sola regla global, lo demás vive en views/layout */
@media print{
  body{ background:#fff; }
  .modal, .toast{ display:none !important; }
}

/* SMART HEIGHT TUNING (modo normal) */
@media (min-height: 900px){
  :root{ --row-h: 56px; }
}
@media (min-height: 1100px){
  :root{ --row-h: 52px; }
}

/* prefers-contrast (global) */
@media (prefers-contrast: more){
  :root{
    --line:rgba(17,24,39,.18);
    --line-2:rgba(17,24,39,.22);
    --line-3:rgba(17,24,39,.14);
    --focus-ring: 0 0 0 4px rgba(12,65,196,.28);
  }
}

/* DIFERENCIADOR: ACTIVO vs INACTIVO (global porque aplica en grid y list) */
.block.inactive,
.sg-block.inactive,
.sg-block[data-active="0"],
.sg-block[aria-disabled="true"]{
  opacity: 0.55;
  filter: grayscale(0.35);
  border-style: dashed !important;
  background: repeating-linear-gradient(
    45deg,
    rgba(17,24,39,.04),
    rgba(17,24,39,.04) 6px,
    rgba(255,255,255,.65) 6px,
    rgba(255,255,255,.65) 14px
  ) !important;
}
.block.inactive::after,
.sg-block.inactive::after,
.sg-block[data-active="0"]::after,
.sg-block[aria-disabled="true"]::after{
  content:"⏸ Inactivo";
  position:absolute;
  top:8px;
  right:10px;
  font-size: 11px;
  font-weight: 900;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(107,114,128,.15);
  color: rgba(107,114,128,.85);
}
